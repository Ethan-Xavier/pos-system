<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>POS — Waiter Platform</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<h2>POS — Waiter Platform</h2>

<!-- --- Waiter Login Popup --- -->
<div id="waiterPopup" style="position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);z-index:1000;">
  <div style="background:#fff;padding:20px;border-radius:8px;width:300px;text-align:center;">
    <span id="closeWaiterPopup" style="cursor:pointer;float:right;font-size:18px;">&times;</span>
    <h3>Select Waiter</h3>
    <select id="waiterSelect" style="width:100%;padding:8px;margin-top:10px;">
      <option value="">-- Select Waiter --</option>
      <option value="Alice">Alice</option>
      <option value="Bob">Bob</option>
      <option value="Charlie">Charlie</option>
    </select>
    <button id="waiterLoginBtn" style="margin-top:12px;width:100%;padding:8px;background:#5cb85c;color:#fff;border:none;border-radius:6px;">Login</button>
  </div>
</div>

<!-- --- Main Order Card --- -->
<div class="card">
  <label for="tableDesc">Table Description (required)</label>
  <input id="tableDesc" placeholder="Table 1 / John - Table / Window seat" />

  <label for="orderTag">Order Tag</label>
  <input id="orderTag" placeholder="Single Order" value="Single Order" />

  <div class="row">
    <div>
      <label for="section">Section</label>
      <select id="section">
        <option value="Food">Food</option>
        <option value="Drinks">Drinks</option>
      </select>
    </div>
    <div>
      <label for="item">Item</label>
      <select id="item"></select>
    </div>
    <div style="max-width:110px">
      <label for="qty">Qty</label>
      <input id="qty" type="number" min="1" value="1" />
    </div>
  </div>

  <button id="placeOrderBtn">Place order</button>
</div>

<!-- --- Tables & Orders Section --- -->
<div class="card">
  <h3>Tables & Orders</h3>
  <div id="tables"></div>
</div>

<!-- --- Debts Section --- -->
<div class="card">
  <h3>Debts</h3>
  <div id="debts"></div>
</div>

<!-- --- POS Data Snapshot (for debugging/local storage) --- -->
<div class="card">
  <h3>posData (local snapshot)</h3>
  <pre id="snapshot"></pre>
</div>

<!-- --- Pay Popup --- -->
<div id="payPopup">
  <div id="payPopupContent">
    <span class="popup-close" id="closePayPopup">&times;</span>
    <h3>Confirm Payment</h3>
    <div id="payDetails"></div>
    <label for="paymentMethodSelect">Payment Method</label>
    <select id="paymentMethodSelect">
      <option value="Cash">Cash</option>
      <option value="Card">Card</option>
      <option value="Mobile">Mobile</option>
    </select>
    <div style="margin-top:10px;display:flex;gap:8px">
      <button id="confirmPaymentBtn" class="btn-pay" style="flex:1">Confirm</button>
      <button id="cancelPaymentBtn" class="btn-cancel" style="flex:1">Cancel</button>
    </div>
  </div>
</div>

<!-- --- Irregular Orders Popup --- -->
<div id="irregularPopup">
  <div id="irregularPopupContent">
    <span class="popup-close" id="closeIrregularPopup">&times;</span>
    <h3>Select Irregular Order Type</h3>
    <div id="irregularOptions">
      <button class="option-btn" data-type="Debt">Debt</button>
      <button class="option-btn" data-type="Other">Other</button>
    </div>
    <div id="irregularInputDiv" style="display:none;">
      <label for="irregularDesc">Description:</label>
      <input id="irregularDesc" placeholder="Enter description..." />
      <div style="margin-top:8px;display:flex;gap:8px;">
        <button id="irregularConfirmBtn" style="flex:1;">Confirm</button>
        <button id="irregularCancelBtn" style="flex:1;">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- --- Add Item Popup --- -->
<div id="addItemPopup">
  <div id="addItemPopupContent">
    <span class="popup-close" id="closeAddItemPopup">&times;</span>
    <h3>Add Item to Order</h3>
    <div class="row">
      <div>
        <label for="addSection">Section</label>
        <select id="addSection">
          <option value="Food">Food</option>
          <option value="Drinks">Drinks</option>
        </select>
      </div>
      <div>
        <label for="addItem">Item</label>
        <select id="addItem"></select>
      </div>
      <div style="max-width:110px">
        <label for="addQty">Qty</label>
        <input id="addQty" type="number" min="1" value="1" />
      </div>
    </div>
    <div style="margin-top:10px;display:flex;gap:8px">
      <button id="addItemConfirmBtn" class="btn-pay" style="flex:1">Add</button>
      <button id="addItemCancelBtn" class="btn-cancel" style="flex:1">Cancel</button>
    </div>
  </div>
</div>

<script src="utils.js"></script>
<script src="pos.js"></script>
</body>
</html>
