<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>POS — Firebase Integrated</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h2>POS — Firebase Integrated</h2>

  <div class="card">
    <label for="tableDesc">Table Description (required)</label>
    <input id="tableDesc" placeholder="Table 1 / João - Janela" />

    <label for="orderTag">Order Tag</label>
    <input id="orderTag" placeholder="Single Order" value="Single Order" />

    <div class="row">
      <div>
        <label for="section">Section</label>
        <select id="section"></select>
      </div>
      <div>
        <label for="item">Item</label>
        <select id="item"></select>
      </div>
      <div style="max-width:110px">
        <label for="qty">Qty</label>
        <input id="qty" type="number" min="1" value="1" />
      </div>
    </div>

    <button id="placeOrderBtn">Place order</button>
    <div id="menuStatus" class="muted"></div>
  </div>

  <div class="card">
    <h3>Tables & Orders</h3>
    <div id="tables"></div>
  </div>

  <div class="card">
    <h3>Debts</h3>
    <div id="debts"></div>
  </div>

  <div class="card">
    <h3>posData (local snapshot)</h3>
    <pre id="snapshot"></pre>
  </div>

  <!-- Price picker popup (for multi-price items) -->
  <div id="pricePicker" class="overlay" style="display:none">
    <div class="popup">
      <h3>Escolha o preço</h3>
      <div id="priceOptions"></div>
      <div style="margin-top:10px; text-align:right">
        <button id="priceCancelBtn" class="btn-cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Payment Popup -->
  <div id="payPopup" class="overlay" style="display:none">
    <div class="popup">
      <h3>Confirm Payment</h3>
      <div id="payDetails"></div>
      <label for="paymentMethodSelect">Payment Method</label>
      <select id="paymentMethodSelect">
        <option value="Cash">Cash</option>
        <option value="Card">Card</option>
        <option value="Mobile">Mobile</option>
      </select>
      <div style="margin-top:10px;display:flex;gap:8px">
        <button id="confirmPaymentBtn" class="btn-pay" style="flex:1">Confirm</button>
        <button id="cancelPaymentBtn" class="btn-cancel" style="flex:1">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Irregular popup -->
  <div id="irregularPopup" class="overlay" style="display:none">
    <div class="popup">
      <h3>Irregular Order</h3>
      <div id="irregularOptions">
        <button class="option-btn" data-type="Debt">Debt</button>
        <button class="option-btn" data-type="Cooking mistake">Cooking mistake</button>
        <button class="option-btn" data-type="Other">Other</button>
      </div>
      <div id="irregularInputDiv" style="display:none;margin-top:8px;">
        <label for="irregularDesc">Description</label>
        <input id="irregularDesc" placeholder="Descrição..." />
      </div>
      <div style="margin-top:10px;display:flex;gap:8px">
        <button id="irregularConfirmBtn" class="btn-irregular" style="flex:1">Confirm</button>
        <button id="irregularCancelBtn" class="btn-cancel" style="flex:1">Cancel</button>
      </div>
    </div>
  </div>

  <script type="module" src="js/menu-loader.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
